:host {
  --glass-bg: rgba(255, 255, 255, 0.08);
  --glass-brd: rgba(255, 255, 255, 0.25);
}

.gradient-bg {
  /* Subtle animated gradient that works in light & dark */
  --g1: #0ea5e9;
  --g2: #8b5cf6;
  --g3: #14b8a6;
  background: radial-gradient(1200px 600px at 10% -10%, color-mix(in oklab, var(--ion-color-primary) 35%, transparent), transparent),
              linear-gradient(135deg, color-mix(in oklab, var(--g1) 18%, transparent), color-mix(in oklab, var(--g2) 18%, transparent) 60%, color-mix(in oklab, var(--g3) 18%, transparent));
  min-height: 100%;
}

.blur-toolbar {
  --background: rgba(16, 16, 20, 0.25);
  backdrop-filter: saturate(1.2) blur(10px);
}

.glass {
  background: var(--glass-bg);
  border: 1px solid var(--glass-brd);
  border-radius: 20px;
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

ion-card.glass {
  margin-top: clamp(8px, 3vh, 22px);
}

.total {
  font-size: clamp(34px, 6vw, 54px);
  font-weight: 800;
  letter-spacing: -0.02em;
  span { font-size: 0.45em; opacity: 0.8; margin-left: 6px; }
}

.live {
  display: flex; align-items: center; gap: 8px; margin-top: 6px;
  ion-icon { font-size: 18px; }
  span { opacity: 0.9; font-weight: 600; }
}

.live-counter {
  margin: 12px 0 4px;
  font-variant-numeric: tabular-nums;
  font-size: clamp(28px, 5vw, 40px);
  font-weight: 700;
  animation: pulse 1.6s infinite ease-in-out;
}
@keyframes pulse { 0%,100% { opacity: 0.85 } 50% { opacity: 1 } }

.cta { margin-top: 8px; }
.row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 8px;
}

.list {
  margin-top: 14px;
  ion-item { --padding-start: 12px; --inner-padding-end: 10px; }
  ion-icon[slot="start"] { font-size: 20px; }
  .tight { margin-inline-start: 6px; }
  .running { margin-top: 6px; }
}

.user-chip {
  --background: rgba(255,255,255,0.12);
  --color: var(--ion-text-color);
}

/* Support iOS safe areas */
ion-content::part(scroll) { padding-bottom: calc(env(safe-area-inset-bottom) + 80px); }

/* Dark mode polish */
:root.ion-palette-dark {
  --glass-bg: rgba(18,18,24,0.5);
  --glass-brd: rgba(255,255,255,0.06);
}
